<!-- OrderProcess BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Wed Jun 17 21:51:51 EEST 2015 -->
<bpel:process name="OrderProcess"
         targetNamespace="buffalo.autoinc.com"
         suppressJoinFailure="yes"
         xmlns:tns="buffalo.autoinc.com"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:ns="http://buffalo.bank.com/PaymentGateway/" xmlns:ns0="http://www.autoinc.com/CarInventoryWSDLFile/" xmlns:ns1="http://autoinc.com/Resupply/" xmlns:ns2="http://autoinc.com/Manufacturing/" xmlns:ns3="http://autoinc.com/Auto_Regional/" xmlns:ns4="http://www.autoinc.com/AutoShippingWS/">

    <!-- Import the client WSDL -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    <bpel:import namespace="http://www.autoinc.com/InventoryWSDLFile/" location="InventoryWSDLFile.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://transportinc.com/orderTransport/" location="orderTransport.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://autoinc.com/Resupply/" location="Resupply.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://autoinc.com/Auto_Regional/" location="RegionalSalesWSDLFile.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://supplier.com/REResupplyWS/" location="REResupplyWS.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://buffalo.bank.com/PaymentGateway/" location="PaymentGateway.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://autoinc.com/Manufacturing/" location="Manufacturing.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://autoinc.eu/EUResupplyWS/" location="EUResupplyWS.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.autoinc.com/CarInventoryWSDLFile/" location="CarInventoryWSDLFile.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.autoinc.com/AutoShippingWS/" location="AutoShippingWS.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import location="OrderProcessArtifacts.wsdl" namespace="buffalo.autoinc.com" 
	        importType="http://schemas.xmlsoap.org/wsdl/" />
         
    <!-- ================================================================= -->         
    <!-- PARTNERLINKS                                                      -->
    <!-- List of services participating in this BPEL process               -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>
        <!-- The 'client' role represents the requester of this service. -->
        <bpel:partnerLink name="client"
                     partnerLinkType="tns:OrderProcess"
                     myRole="OrderProcessProvider"
                     />
        
        
        
        
        
        
        <bpel:partnerLink name="BankPL" partnerLinkType="tns:BankPLT" partnerRole="doPayment"></bpel:partnerLink>
        <bpel:partnerLink name="CarInventoryPL" partnerLinkType="tns:CarInventoryPLT" partnerRole="checkCars"></bpel:partnerLink>
        <bpel:partnerLink name="RESalesPL" partnerLinkType="tns:RESalesPLT" partnerRole="doRESales"></bpel:partnerLink>
        <bpel:partnerLink name="ShippingPL" partnerLinkType="tns:ShippingPLT" partnerRole="doShipping"></bpel:partnerLink>
        <bpel:partnerLink name="ResupplyPL" partnerLinkType="tns:ResupplyPLT" partnerRole="doResupply"></bpel:partnerLink>
        <bpel:partnerLink name="ManufacturingPL" partnerLinkType="tns:ManufacturingPLT" partnerRole="doManufacture"></bpel:partnerLink>
    </bpel:partnerLinks>
  
    <!-- ================================================================= -->         
    <!-- VARIABLES                                                         -->
    <!-- List of messages and XML documents used within this BPEL process  -->
    <!-- ================================================================= -->         
    <bpel:variables>
        <!-- Reference to the message passed as input during initiation -->
        <bpel:variable name="input"
                  messageType="tns:OrderProcessRequestMessage"/>
                  
        <!-- 
          Reference to the message that will be returned to the requester
          -->
        <bpel:variable name="output"
                  messageType="tns:OrderProcessResponseMessage"/>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <bpel:variable name="BankPLResponse" messageType="ns:ProcessPaymentResponse"></bpel:variable>
        <bpel:variable name="BankPLRequest" messageType="ns:ProcessPaymentRequest"></bpel:variable>
        <bpel:variable name="CarInventoryPLResponse" messageType="ns0:checkForCarsResponse"></bpel:variable>
        <bpel:variable name="CarInventoryPLRequest" messageType="ns0:checkForCarsRequest"></bpel:variable>
        <bpel:variable name="RESalesPLResponse" messageType="ns3:receiveOrderResponse"></bpel:variable>
        <bpel:variable name="RESalesPLRequest" messageType="ns3:receiveOrderRequest"></bpel:variable>
        <bpel:variable name="ShippingPLResponse" messageType="ns4:doShippingResponse"></bpel:variable>
        <bpel:variable name="ShippingPLRequest" messageType="ns4:doShippingRequest"></bpel:variable>
        <bpel:variable name="ResupplyPLResponse" messageType="ns1:resupplyOperationResponse"></bpel:variable>
        <bpel:variable name="ResupplyPLRequest" messageType="ns1:resupplyOperationRequest"></bpel:variable>
        <bpel:variable name="ManufacturingPLResponse" messageType="ns2:manufactureOperationResponse"></bpel:variable>
        <bpel:variable name="ManufacturingPLRequest" messageType="ns2:manufactureOperationRequest"></bpel:variable>
        <bpel:variable name="RESalesPLResponse1" messageType="ns3:receiveCarsFromManufactureResponse"></bpel:variable>
        <bpel:variable name="RESalesPLRequest1" messageType="ns3:receiveCarsFromManufactureRequest"></bpel:variable>
        <bpel:variable name="ResupplyPLResponse1" messageType="ns1:cancelResupplyOperationResponse"></bpel:variable>
        <bpel:variable name="ResupplyPLRequest1" messageType="ns1:cancelResupplyOperationRequest"></bpel:variable>
    </bpel:variables>

    <!-- ================================================================= -->         
    <!-- ORCHESTRATION LOGIC                                               -->
    <!-- Set of activities coordinating the flow of messages across the    -->
    <!-- services integrated within this business process                  -->
    <!-- ================================================================= -->         
    <bpel:sequence name="main">
        
        <!-- Receive input from requester. 
             Note: This maps to operation defined in OrderProcess.wsdl 
             -->
        <bpel:receive name="receiveInput" partnerLink="client"
                 portType="tns:OrderProcess"
                 operation="process" variable="input"
                 createInstance="yes"/>
        
        <!-- Generate reply to synchronous request -->
        <bpel:assign validate="no" name="writeInput">
            
            
            
            
            
            
            <bpel:copy>
                <bpel:from><bpel:literal><tns:ProcessPayment xmlns:tns="http://buffalo.bank.com/PaymentGateway/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <accountNumber>accountNumber</accountNumber>
  <customerName>customerName</customerName>
  <bank>bank</bank>
  <ref>0</ref>
  <amount>0</amount>
</tns:ProcessPayment>
</bpel:literal></bpel:from>
                <bpel:to variable="BankPLRequest" part="parameters"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:accountNumber]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="BankPLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[accountNumber]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerName]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="BankPLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerName]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:bank]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="BankPLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[bank]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="BankPLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[ref]]></bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:amount]]></bpel:query>
                </bpel:from>
                <bpel:to part="parameters" variable="BankPLRequest">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[amount]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:invoke name="takePayment" partnerLink="BankPL" operation="ProcessPayment" portType="ns:PaymentGateway" inputVariable="BankPLRequest" outputVariable="BankPLResponse"></bpel:invoke>
        
        
        <bpel:assign validate="no" name="writeOutputPayment">
            
            
            
            
            
            
            <bpel:copy>
                <bpel:from><bpel:literal><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>true</tns:resultRESales>
  <tns:resultCheckCars>true</tns:resultCheckCars>
  <tns:resultResupply>true</tns:resultResupply>
  <tns:resultManufacturing>true</tns:resultManufacturing>
  <tns:resultShipment>true</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse>
</bpel:literal></bpel:from>
                <bpel:to variable="output" part="payload"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="BankPLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[paymentAccepted]]></bpel:query>
                </bpel:from>
                <bpel:to part="payload" variable="output">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                        <![CDATA[tns:resultPayment]]>
                    </bpel:query>
                </bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="parameters" variable="BankPLResponse">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[transactionId]]></bpel:query>
                </bpel:from>
                <bpel:to part="payload" variable="output">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:transactionId]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:if name='IsPaymentAccepted' suppressJoinFailure="no">
            <bpel:condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$output.payload/tns:resultPayment="true"]]></bpel:condition>
            <bpel:sequence name="PayAccepted">
                
                
                
                <bpel:assign validate="no" name="writeInputCarInventory">
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <bpel:copy>
                        <bpel:from><bpel:literal><tns:checkForCars xmlns:tns="http://www.autoinc.com/CarInventoryWSDLFile/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelName>modelName</modelName>
  <edition>edition</edition>
  <color>color</color>
  <country>country</country>
  <quantity>0</quantity>
  <orderId>0</orderId>
  <customerName>customerName</customerName>
  <customerAddress>customerAddress</customerAddress>
  <customerId>0</customerId>
</tns:checkForCars>
</bpel:literal></bpel:from>
                        <bpel:to variable="CarInventoryPLRequest" part="parameters"></bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                <![CDATA[modelName]]>
                            </bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[edition]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[color]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:country]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[country]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[orderId]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerName]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerName]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:address]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerAddress]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="payload" variable="input">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerId]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="parameters" variable="CarInventoryPLRequest">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerId]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    
                </bpel:assign>
                
                <bpel:invoke name="checkInventory" partnerLink="CarInventoryPL" operation="checkForCars" portType="ns0:CarInventoryWSDLFile" inputVariable="CarInventoryPLRequest" outputVariable="CarInventoryPLResponse"></bpel:invoke>
                <bpel:assign validate="no" name="writeOutputInventory">
                    
                    
                    
                    
                    <bpel:copy>
                        <bpel:from><bpel:literal xml:space="preserve"><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>true</tns:resultRESales>
  <tns:resultCheckCars>true</tns:resultCheckCars>
  <tns:resultResupply>true</tns:resultResupply>
  <tns:resultManufacturing>true</tns:resultManufacturing>
  <tns:resultShipment>true</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse></bpel:literal></bpel:from>
                        <bpel:to variable="output" part="payload"></bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="parameters" variable="CarInventoryPLResponse">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="payload" variable="output">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultCheckCars]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="parameters" variable="CarInventoryPLResponse">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="payload" variable="output">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderedCars]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="parameters" variable="BankPLResponse">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                <![CDATA[transactionId]]>
                            </bpel:query>
                        </bpel:from>
                        <bpel:to part="payload" variable="output">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:transactionId]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from part="parameters" variable="BankPLResponse">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[paymentAccepted]]></bpel:query>
                        </bpel:from>
                        <bpel:to part="payload" variable="output">
                            <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultPayment]]></bpel:query>
                        </bpel:to>
                    </bpel:copy>
                </bpel:assign>
                <bpel:if name="carAvailability">
                    <bpel:condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$output.payload/tns:resultCheckCars="true"]]></bpel:condition>
                    <bpel:sequence name="CarAvailable">
                        <bpel:assign validate="no" name="writeRegionalSalesInput">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <bpel:copy>
                                <bpel:from><bpel:literal><tns:receiveOrder xmlns:tns="http://autoinc.com/Auto_Regional/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <customerId>0</customerId>
  <modelName>modelName</modelName>
  <modelEdition>modelEdition</modelEdition>
  <modelColor>modelColor</modelColor>
  <quantity>0</quantity>
  <customer_name>customer_name</customer_name>
  <customer_address>customer_address</customer_address>
  <customer_country>customer_country</customer_country>
</tns:receiveOrder>
</bpel:literal></bpel:from>
                                <bpel:to variable="RESalesPLRequest" part="parameters"></bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                        <![CDATA[orderId]]>
                                    </bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerId]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerId]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelName]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelEdition]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelColor]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerName]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_name]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:address]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_address]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:country]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="RESalesPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_country]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            
                        </bpel:assign>
                        <bpel:invoke name="processRESalesWS" partnerLink="RESalesPL" operation="receiveOrder" portType="ns3:RegionalSalesWSDLFile" inputVariable="RESalesPLRequest" outputVariable="RESalesPLResponse"></bpel:invoke>
                        <bpel:assign validate="no" name="writeInputShippingWS">
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <bpel:copy>
                                <bpel:from><bpel:literal><tns:doShipping xmlns:tns="http://www.autoinc.com/AutoShippingWS/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <customerName>customerName</customerName>
  <customerAddress>customerAddress</customerAddress>
  <customerCountry>customerCountry</customerCountry>
  <modelName>modelName</modelName>
  <modelEdition>modelEdition</modelEdition>
  <modelColor>modelColor</modelColor>
  <quantity>0</quantity>
</tns:doShipping>
</bpel:literal></bpel:from>
                                <bpel:to variable="ShippingPLRequest" part="parameters"></bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                        <![CDATA[tns:orderId]]>
                                    </bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                        <![CDATA[orderId]]>
                                    </bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                        <![CDATA[tns:customerName]]>
                                    </bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerName]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:address]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerAddress]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:country]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerCountry]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelName]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelEdition]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelColor]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="payload" variable="input">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="parameters" variable="ShippingPLRequest">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            
                            
                        </bpel:assign>
                        <bpel:invoke name="shippingWS" partnerLink="ShippingPL" operation="doShipping" portType="ns4:AutoShippingWS" inputVariable="ShippingPLRequest" outputVariable="ShippingPLResponse"></bpel:invoke>
                        <bpel:assign validate="no" name="writeOutputRegionalSales">
                            
                            
                            
                            <bpel:copy>
                                <bpel:from><bpel:literal xml:space="preserve"><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>true</tns:resultRESales>
  <tns:resultCheckCars>true</tns:resultCheckCars>
  <tns:resultResupply>false</tns:resultResupply>
  <tns:resultManufacturing>false</tns:resultManufacturing>
  <tns:resultShipment>true</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse></bpel:literal></bpel:from>
                                <bpel:to variable="output" part="payload"></bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="RESalesPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultRESales]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="ShippingPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultShipment]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="BankPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[transactionId]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:transactionId]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="BankPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[paymentAccepted]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultPayment]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="ShippingPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                        <![CDATA[shippingStatus]]>
                                    </bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:result]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from part="parameters" variable="ShippingPLResponse">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[deliveryDate]]></bpel:query>
                                </bpel:from>
                                <bpel:to part="payload" variable="output">
                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:deliveryDate]]></bpel:query>
                                </bpel:to>
                            </bpel:copy>
                        </bpel:assign>
                    </bpel:sequence>
                    <bpel:else>
                        <bpel:sequence name="CarNotAvailable">
                            <bpel:assign validate="no" name="writeInputResupply">
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <bpel:copy>
                                    <bpel:from><bpel:literal><tns:resupplyOperation xmlns:tns="http://autoinc.com/Resupply/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <quantity>0</quantity>
  <model>model</model>
  <color>color</color>
  <edition>edition</edition>
</tns:resupplyOperation>
</bpel:literal></bpel:from>
                                    <bpel:to variable="ResupplyPLRequest" part="parameters"></bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ResupplyPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[orderId]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ResupplyPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ResupplyPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[model]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ResupplyPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[color]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ResupplyPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[edition]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                            </bpel:assign>
                            <bpel:invoke name="resupplyWS" partnerLink="ResupplyPL" operation="resupplyOperation" portType="ns1:ResupplyWS" inputVariable="ResupplyPLRequest" outputVariable="ResupplyPLResponse"></bpel:invoke>
                            
                            <bpel:assign validate="no" name="writeOutputResupply">
                                <bpel:copy>
                                    <bpel:from><bpel:literal><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>true</tns:resultRESales>
  <tns:resultCheckCars>true</tns:resultCheckCars>
  <tns:resultResupply>true</tns:resultResupply>
  <tns:resultManufacturing>true</tns:resultManufacturing>
  <tns:resultShipment>true</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse>
</bpel:literal></bpel:from>
                                    <bpel:to variable="output" part="payload"></bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="parameters" variable="ResupplyPLResponse">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                            <![CDATA[suppliesReady]]>
                                        </bpel:query>
                                    </bpel:from>
                                    <bpel:to part="payload" variable="output">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                            <![CDATA[tns:resultResupply]]>
                                        </bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                            </bpel:assign>
                            <bpel:if name="checkParts">
                                <bpel:condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$output.payload/tns:resultResupply="true"]]></bpel:condition>
                                <bpel:sequence name="partsAvailable">
                                    <bpel:assign validate="no" name="writeInputManufacturing"><bpel:copy>
                                    <bpel:from><bpel:literal><tns:manufactureOperation xmlns:tns="http://autoinc.com/Manufacturing/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <model>model</model>
  <edition>edition</edition>
  <quantity>0</quantity>
  <color>color</color>
</tns:manufactureOperation>
</bpel:literal></bpel:from>
                                    <bpel:to variable="ManufacturingPLRequest" part="parameters"></bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ManufacturingPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[orderId]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ManufacturingPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[model]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ManufacturingPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[edition]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ManufacturingPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                                <bpel:copy>
                                    <bpel:from part="payload" variable="input">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                    </bpel:from>
                                    <bpel:to part="parameters" variable="ManufacturingPLRequest">
                                        <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[color]]></bpel:query>
                                    </bpel:to>
                                </bpel:copy>
                            
                                </bpel:assign>
                                    <bpel:invoke name="manufacturingWS" partnerLink="ManufacturingPL" operation="manufactureOperation" portType="ns2:ManufacturingWS" inputVariable="ManufacturingPLRequest" outputVariable="ManufacturingPLResponse"></bpel:invoke>
                                    <bpel:assign validate="no" name="writeRegionalSalesInput1">
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        <bpel:copy>
                                            <bpel:from><bpel:literal><tns:receiveOrder xmlns:tns="http://autoinc.com/Auto_Regional/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <customerId>0</customerId>
  <modelName>modelName</modelName>
  <modelEdition>modelEdition</modelEdition>
  <modelColor>modelColor</modelColor>
  <quantity>0</quantity>
  <customer_name>customer_name</customer_name>
  <customer_address>customer_address</customer_address>
  <customer_country>customer_country</customer_country>
</tns:receiveOrder>
</bpel:literal></bpel:from>
                                            <bpel:to variable="RESalesPLRequest" part="parameters"></bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[orderId]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerId]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerId]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelName]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelEdition]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelColor]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerName]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_name]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:address]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_address]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:country]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="RESalesPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customer_country]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        
                                    </bpel:assign>
                                    <bpel:invoke name="processRESalesWS1" partnerLink="RESalesPL" operation="receiveOrder" portType="ns3:RegionalSalesWSDLFile" inputVariable="RESalesPLRequest" outputVariable="RESalesPLResponse"></bpel:invoke>
                                    <bpel:assign validate="no" name="writeInputShippingWS1">
                                        <bpel:copy>
                                            <bpel:from><bpel:literal><tns:doShipping xmlns:tns="http://www.autoinc.com/AutoShippingWS/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
  <customerName>customerName</customerName>
  <customerAddress>customerAddress</customerAddress>
  <customerCountry>customerCountry</customerCountry>
  <modelName>modelName</modelName>
  <modelEdition>modelEdition</modelEdition>
  <modelColor>modelColor</modelColor>
  <quantity>0</quantity>
</tns:doShipping>
</bpel:literal></bpel:from>
                                            <bpel:to variable="ShippingPLRequest" part="parameters"></bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[orderId]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        <bpel:copy>
                                            <bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:customerName]]></bpel:query>
                                            </bpel:from><bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerName]]></bpel:query>
                                            </bpel:to>
                                        
                                        
                                        
                                        
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                                    <![CDATA[tns:address]]>
                                                </bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                                    <![CDATA[customerAddress]]>
                                                </bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:country]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[customerCountry]]></bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:model]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelName]]></bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:edition]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelEdition]]></bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:color]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[modelColor]]></bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                        <bpel:copy><bpel:from part="payload" variable="input">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:quantity]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="parameters" variable="ShippingPLRequest">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                            </bpel:to>
                                        
                                        </bpel:copy>
                                    </bpel:assign>
                                    <bpel:invoke name="shippingWS1" partnerLink="ShippingPL" operation="doShipping" portType="ns4:AutoShippingWS" inputVariable="ShippingPLRequest" outputVariable="ShippingPLResponse"></bpel:invoke>
                                    
                                    <bpel:assign validate="no" name="writeOutputRegionalSales1"><bpel:copy>
                                            <bpel:from><bpel:literal><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>true</tns:resultRESales>
  <tns:resultCheckCars>true</tns:resultCheckCars>
  <tns:resultResupply>true</tns:resultResupply>
  <tns:resultManufacturing>true</tns:resultManufacturing>
  <tns:resultShipment>true</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse>
</bpel:literal></bpel:from>
                                            <bpel:to variable="output" part="payload"></bpel:to>
                                        </bpel:copy>
                                        
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="BankPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[paymentAccepted]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultPayment]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="RESalesPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultRESales]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="CarInventoryPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultCheckCars]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="ResupplyPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[suppliesReady]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultResupply]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="ManufacturingPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[completed]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultManufacturing]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                    
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="ShippingPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[result]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultShipment]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="CarInventoryPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[quantity]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderedCars]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="BankPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[transactionId]]></bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:transactionId]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="ShippingPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                                    <![CDATA[deliveryDate]]>
                                                </bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:deliveryDate]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from part="parameters" variable="ShippingPLResponse">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                                    <![CDATA[shippingStatus]]>
                                                </bpel:query>
                                            </bpel:from>
                                            <bpel:to part="payload" variable="output">
                                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:result]]></bpel:query>
                                            </bpel:to>
                                        </bpel:copy>
                                    </bpel:assign>
                                </bpel:sequence>
                                <bpel:else>
                                    <bpel:sequence name="partsNotAvailable">
                                        <bpel:assign validate="no" name="writeInputResupplyCancel">
                                            <bpel:copy>
                                                <bpel:from><bpel:literal><tns:cancelResupplyOperation xmlns:tns="http://autoinc.com/Resupply/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <orderId>0</orderId>
</tns:cancelResupplyOperation>
</bpel:literal></bpel:from>
                                                <bpel:to variable="ResupplyPLRequest1" part="parameters"></bpel:to>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from part="payload" variable="input">
                                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:orderId]]></bpel:query>
                                                </bpel:from>
                                                <bpel:to part="parameters" variable="ResupplyPLRequest1">
                                                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                                        <![CDATA[orderId]]>
                                                    </bpel:query>
                                                </bpel:to>
                                            </bpel:copy>
                                        </bpel:assign>
                                        <bpel:invoke name="cancelResupply" partnerLink="ResupplyPL" operation="cancelResupplyOperation" portType="ns1:ResupplyWS" inputVariable="ResupplyPLRequest1" outputVariable="ResupplyPLResponse1"></bpel:invoke>
                                        <bpel:assign validate="no" name="writeOutput">
                                        
                                        
                                            <bpel:copy>
                                                <bpel:from><bpel:literal xml:space="preserve"><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>true</tns:resultPayment>
  <tns:resultRESales>false</tns:resultRESales>
  <tns:resultCheckCars>false</tns:resultCheckCars>
  <tns:resultResupply>false</tns:resultResupply>
  <tns:resultManufacturing>false</tns:resultManufacturing>
  <tns:resultShipment>false</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse>
</bpel:literal></bpel:from>
                                                <bpel:to variable="output" part="payload"></bpel:to>
                                            </bpel:copy>
                                            
                                        </bpel:assign>
                                        
                                    </bpel:sequence>
                                </bpel:else>
                            </bpel:if>
                            
                            
                            
                            
                        </bpel:sequence>
                    </bpel:else>
                </bpel:if>
            </bpel:sequence>
            <bpel:else>
                <bpel:sequence name="PayRejected">
                    <bpel:assign validate="no" name="writeOutputRejectedPayment">
                        
                        
                        
                        
                        
                        
                        
                        <bpel:copy>
                            <bpel:from><bpel:literal xml:space="preserve"><tns:OrderProcessResponse xmlns:tns="buffalo.autoinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <tns:result>tns:result</tns:result>
  <tns:resultPayment>false</tns:resultPayment>
  <tns:resultRESales>false</tns:resultRESales>
  <tns:resultCheckCars>false</tns:resultCheckCars>
  <tns:resultResupply>false</tns:resultResupply>
  <tns:resultManufacturing>false</tns:resultManufacturing>
  <tns:resultShipment>false</tns:resultShipment>
  <tns:orderedCars>0</tns:orderedCars>
  <tns:transactionId>0</tns:transactionId>
  <tns:deliveryDate>tns:deliveryDate</tns:deliveryDate>
</tns:OrderProcessResponse></bpel:literal></bpel:from>
                            <bpel:to variable="output" part="payload"></bpel:to>
                        </bpel:copy>
                        <bpel:copy>
                            <bpel:from part="parameters" variable="BankPLResponse">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[comment]]></bpel:query>
                            </bpel:from>
                            <bpel:to part="payload" variable="output">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0">
                                    <![CDATA[tns:result]]>
                                </bpel:query>
                            </bpel:to>
                        </bpel:copy>
                        <bpel:copy>
                            <bpel:from part="parameters" variable="BankPLResponse">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[transactionId]]></bpel:query>
                            </bpel:from>
                            <bpel:to part="payload" variable="output">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:transactionId]]></bpel:query>
                            </bpel:to>
                        </bpel:copy>
                        <bpel:copy>
                            <bpel:from part="parameters" variable="BankPLResponse">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[paymentAccepted]]></bpel:query>
                            </bpel:from>
                            <bpel:to part="payload" variable="output">
                                <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:resultPayment]]></bpel:query>
                            </bpel:to>
                        </bpel:copy>
                    </bpel:assign>
                    
                    
                    
                </bpel:sequence>
            </bpel:else>

        </bpel:if>
        
        
        
        
        
        
        <bpel:reply name="replyOutput" 
               partnerLink="client"
               portType="tns:OrderProcess"
               operation="process" 
               variable="output"
               />
    </bpel:sequence>
</bpel:process>

